// Code generated by entproto. DO NOT EDIT.
syntax = "proto3";

package entpb;

import "google/protobuf/empty.proto";

import "google/protobuf/struct.proto";

import "google/protobuf/timestamp.proto";

import "google/protobuf/wrappers.proto";

option go_package = "github.com/yoshino-s/entproto/internal/test/proto/entpb";

message Group {
  int32 id = 1;

  string name = 2;

  google.protobuf.Value metadata = 4;

  google.protobuf.Value tags = 5;

  repeated User users = 3;
}

message UpdateGroupRequest {
  int32 id = 1;

  google.protobuf.StringValue name = 2;

  google.protobuf.Value metadata = 3;

  google.protobuf.Value tags = 4;

  repeated User users = 5;
}

message ListGroupFilter {
}

message ListGroupRequest {
  google.protobuf.Int32Value offset = 1;

  google.protobuf.Int32Value limit = 2;

  google.protobuf.StringValue order = 3;

  bool descending = 4;

  ListGroupFilter filter = 5;

  bool no_limit = 6;
}

message ListGroupResponse {
  repeated Group items = 1;

  int32 total = 2;
}

message User {
  int32 id = 1;

  string name = 2;

  google.protobuf.StringValue description = 4;

  Gender gender = 5;

  google.protobuf.Timestamp created_at = 3;

  google.protobuf.Int32Value group_id = 6;

  google.protobuf.Value preferences = 8;

  Group group = 7;

  enum Gender {
    GENDER_UNSPECIFIED = 0;

    GENDER_MALE = 1;

    GENDER_FEMALE = 2;
  }
}

message UserGenderEnumValue {
  User.Gender value = 1;
}

message UpdateUserRequest {
  int32 id = 1;

  google.protobuf.StringValue name = 2;

  google.protobuf.StringValue description = 3;

  UserGenderEnumValue gender = 4;

  google.protobuf.Int32Value group_id = 5;

  google.protobuf.Value preferences = 6;

  Group group = 7;
}

message ListUserFilter {
  google.protobuf.StringValue name = 1;

  google.protobuf.StringValue name_contains = 2;

  repeated string name_in = 3;

  UserGenderEnumValue gender = 4;

  repeated User.Gender gender_in = 5;

  google.protobuf.Timestamp created_at = 6;

  repeated google.protobuf.Timestamp created_at_in = 7;
}

message ListUserRequest {
  google.protobuf.Int32Value offset = 1;

  google.protobuf.Int32Value limit = 2;

  google.protobuf.StringValue order = 3;

  bool descending = 4;

  ListUserFilter filter = 5;

  bool no_limit = 6;
}

message ListUserResponse {
  repeated User items = 1;

  int32 total = 2;
}

service GroupService {
  rpc Create ( Group ) returns ( Group );

  rpc Get ( google.protobuf.Int32Value ) returns ( Group ) {
    option idempotency_level = NO_SIDE_EFFECTS;
  }

  rpc Update ( UpdateGroupRequest ) returns ( Group );

  rpc Delete ( google.protobuf.Int32Value ) returns ( google.protobuf.Empty );

  rpc List ( ListGroupRequest ) returns ( ListGroupResponse ) {
    option idempotency_level = NO_SIDE_EFFECTS;
  }
}

service UserService {
  rpc Create ( User ) returns ( User );

  rpc Get ( google.protobuf.Int32Value ) returns ( User ) {
    option idempotency_level = NO_SIDE_EFFECTS;
  }

  rpc Update ( UpdateUserRequest ) returns ( User );

  rpc Delete ( google.protobuf.Int32Value ) returns ( google.protobuf.Empty );

  rpc List ( ListUserRequest ) returns ( ListUserResponse ) {
    option idempotency_level = NO_SIDE_EFFECTS;
  }
}
