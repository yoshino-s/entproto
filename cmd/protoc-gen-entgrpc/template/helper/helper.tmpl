{{- /*gotype: icode.baidu.com/baidu/left/sslop-backend/tools/protoc-gen-entgrpc.helperGenerator*/ -}}
{{ define "helper" }}
// Code generated by protoc-gen-entgrpc. DO NOT EDIT.
package {{ .File.GoPackageName }}

func wrapError(err error) error {
	switch {
        case err == nil:
            return nil
        case {{ .EntPackage.Ident "IsNotFound" | ident }}(err):
            return {{ statusErrf "CodeNotFound" "not found: %s" "err" }}
        case {{ qualify "entgo.io/ent/dialect/sql/sqlgraph" "IsUniqueConstraintError" }}(err):
            return {{ statusErrf "CodeAlreadyExists" "already exists: %s" "err" }}
        case {{ .EntPackage.Ident "IsConstraintError" | ident }}(err):
            return {{ statusErrf "CodeInvalidArgument" "invalid argument: %s" "err" }}
        default:
            return {{ statusErrf "CodeInternal" "internal error: %s" "err" }}
    }
}

{{ end }}
